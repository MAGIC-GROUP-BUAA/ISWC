<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16'><text x='0' y='12' font-size='12'>ğŸ“ˆ</text></svg>">
    <title>Leaderboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../CSS/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
</head>
<body>
    <!-- ä¾§è¾¹æ  -->
    <div class="sidebar">
        <img src="../imgs/lefttop_logo.png" alt="Logo">
        <a href="../index.html">â­ Introduction</a>
        <a href="timeline.html">ğŸ“… Timeline</a>
        <a href="registration.html">ğŸ“‹ Registration</a>
        <a href="task1.html">âš”ï¸ Task 1</a>
        <a href="task2.html">âš”ï¸ Task 2</a>
        <a href="task3.html">âš”ï¸ Task 3</a>
        <a href="prizes.html">ğŸ† Prizes</a>
        <a href="leaderboard.html" class="active">ğŸ“ˆ Leaderboard</a>
        <a href="organizers.html">ğŸ§‘â€ğŸ¤â€ğŸ§‘ Organizers</a>
    </div>

    <!-- å†…å®¹éƒ¨åˆ† -->
    <div class="content">
        <div class="container">
            <!-- é¡¶éƒ¨æ ‡é¢˜ -->
            <div class="header">
                <h1>ğŸ“ˆ Leaderboard</h1>
            </div>

            <div class="announcement">
                <h3>List of Award-winning Teams</h3>
                <p>Congratulations to the following teams for winning awards in this competition!!!</p>
            </div>

            <!-- Task 1 æ’è¡Œæ¦œ -->
            <div class="section">
                <h3>Task 1: Retweet Network Link Prediction</h3>
                <table id="task1-table" class="table-container">
                    <thead>
                        <tr>
                            <th>Award</th>
                            <th>Team's Name</th>
                            <th>Leader's Affiliation</th>
                            <th>Accuracy</th>
                            <th>Leader's Name</th>
                            <th>Team Members</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <!-- Task 2 æ’è¡Œæ¦œ -->
            <div class="section">
                <h3>Task 2: Bursty Event Cascade Classification</h3>
                <table id="task2-table" class="leaderboard-table">
                    <thead>
                        <tr>
                            <th>Award</th>
                            <th>Team's Name</th>
                            <th>Leader's Affiliation</th>
                            <th>Accuracy</th>
                            <th>Leader's Name</th>
                            <th>Team Members</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <!-- Task 3 æ’è¡Œæ¦œ -->
            <div class="section">
                <h3>Task 3: Multimodal Intention Recognition for Social Media</h3>
                <table id="task3-table" class="leaderboard-table">
                    <thead>
                        <tr>
                            <th>Award</th>
                            <th>Team's Name</th>
                            <th>Leader's Affiliation</th>
                            <th>Accuracy</th>
                            <th>Leader's Name</th>
                            <th>Team Members</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        function addMedalEmoji(rank) {
            switch(rank) {
                case 1: return '<span class="medal gold">ğŸ¥‡</span>';
                case 2: return '<span class="medal silver">ğŸ¥ˆ</span>';
                case 3: return '<span class="medal bronze">ğŸ¥‰</span>';
                default: return '';
            }
        }

        function loadTableData(csvPath, tableId) {
            Papa.parse(csvPath, {
                download: true,
                header: true,
                complete: function(results) {
                    const table = document.querySelector(`#${tableId} tbody`);
                    table.innerHTML = '';
                    
                    results.data
                        .filter(row => Object.values(row).some(val => val)) // è¿‡æ»¤ç©ºè¡Œ
                        .forEach((row) => {
                            const tr = document.createElement('tr');
                            tr.innerHTML = `
                                <td>${row["Award-winning Teams"]}</td>
                                <td>${row["Team's Name"]}</td>
                                <td>${row["Leader's Affiliation"]}</td>
                                <td>${row["Accuracy"]}</td>
                                <td>${row["Leader's name"]}</td>
                                <td>${row["Other Team Members' Name"] || '-'}</td>
                            `;
                            table.appendChild(tr);
                        });
                },
                error: function(error) {
                    console.error(`Error loading ${csvPath}:`, error);
                    const table = document.querySelector(`#${tableId} tbody`);
                    table.innerHTML = '<tr><td colspan="6">æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åå†è¯•</td></tr>';
                }
            });
        }   

        // åŠ è½½å„ä»»åŠ¡çš„æ’è¡Œæ¦œæ•°æ®
        loadTableData('../table/leaderbord1.csv', 'task1-table');
        loadTableData('../table/leaderbord2.csv', 'task2-table');
        loadTableData('../table/leaderbord3.csv', 'task3-table');
    </script>
</body>
</html>